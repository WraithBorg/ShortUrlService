#
#### 测试URL
127.0.0.1:8888/302
127.0.0.1:8888/301
127.0.0.1:8888/testSendSms

#### 短链接作用
+ 节省网址长度便于传播
+ 方便后台统计点击量,跟踪用户信息等
+ 域名屏蔽,减少域名暴露
+ 结合生成二维码


#### 重定向状态码301和302的选择
301是永久重定向,302是临时重定向。  
短地址一经生成就不会变化,所以用301是符合http语义的。  
同时浏览器会对301请求保存一个比较长期的缓存,这样就减轻对服务器的压力；  
而且301对于网址的SEO有一定的提升。  
但是很多情况下我们需要对接口点击或者用户行为进行一些业务监控处理的时候,  
301明显就不合适了（浏览器直接按照缓存数据跳转了）, 所以很多业务场景下还是采用302比较合适

#### 短链接过期回收策略
+ 如果数据存储采用HBase,则可以根据LRU算法清除过期数据

#### 短链接算法选择
1: 通过Hash算法（摘要算法）获取短码,将长网址根据MD5计算生成32位签名串,再根据签名串生成短码
+ 优点是保证无序性,缺点是可能会生成重复短码,不过碰撞概率比较低
2: 利用自增ID转换成62进制获取短码,这种实现需要一个类似发号器服务来保证序号自增
+ 优点是不会生成重复短码,缺点是生成的短码是有序的,

#### 关于MD5
MD5是一种三列算法,可以计算无穷大的字符串,碰撞概率极低,逆向算法工作量巨大

#### SEO - 搜索引擎优化
SEO - 搜索引擎优化：使您的网站更易于搜索引擎抓取和编入索引的过程；

#### 发号器服务
短码记录表设计,缺点是单库单表情况下,不支持高并发高可用  
可以利用redis的incr(short_url_id)操作获取全局自增序号,然后将短码和原网址的映射信息存放到mysql中
```
CREATE TABLE `short_codes` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `url` varchar(255) NOT NULL COMMENT '长链接',
  `code` varchar(10) NOT NULL COMMENT '短链接码（短码）',
  `hit_count` int(11) NOT NULL COMMENT '点击量',
  `type` tinyint(2) NOT NULL COMMENT '系统: “0” 自定义: “1”',
  `created_at` datetime NOT NULL COMMENT '创建时间',
  `updated_at` datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8
```

#### LRU算法 （Least Recently Used）
通俗来说就是 最近使用过的数据应该是是「有用的」，很久都没用过的数据应该是无用的，内存满了就优先删那些很久没用过的数据

